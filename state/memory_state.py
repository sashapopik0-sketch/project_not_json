"""Модуль состояния для работы с заметками в оперативной памяти."""

from state.base_state import BaseState
from core.note import Note
from typing import List


class MemoryState(BaseState):
    """Состояние для управления заметками в оперативной памяти.

    Реализует паттерн 'Состояние' для хранения заметок исключительно
    в оперативной памяти без сохранения на диск. Подходит для временного
    хранения данных или тестирования.

    Attributes:
        _notes: Список объектов Note, хранящихся в памяти.
    """

    def __init__(self) -> None:
        """Инициализирует состояние оперативной памяти.

        Создает пустой список для хранения заметок в памяти.
        """
        self._notes: List[Note] = []
        
    def load_notes(self) -> List[Note]:
        """Загружает список заметок из оперативной памяти.

        Возвращает копию списка заметок, хранящихся в памяти,
        чтобы предотвратить прямое изменение внутреннего состояния.

        Returns:
            Копия списка объектов Note из оперативной памяти.
        """
        return self._notes[:]

    def save_notes(self, notes: List[Note]) -> None:
        """Сохраняет список заметок в оперативную память.

        Сохраняет копию переданного списка заметок в память,
        заменяя существующие данные.

        Args:
            notes: Список объектов Note для сохранения в память.
        """
        self._notes = notes[:]